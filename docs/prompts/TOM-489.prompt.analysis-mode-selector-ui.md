# TOM-489.prompt.analysis-mode-selector-ui.md

## ğŸ¯ ç›®æ ‡ (Objective)

**Linear Issue**: TOM-489 - Web: å®ç°"åˆ†ææ¨¡å¼"é€‰æ‹©å™¨UI

**æ ¸å¿ƒæŒ‡ä»¤**: åœ¨ Web App (Next.js) çš„ `InputSection` ç»„ä»¶ä¸­å®ç°"å½¢æ€Bï¼šä¸“ä¸šæ¨¡å¼"æ‰€éœ€çš„"åˆ†ææ¨¡å¼é€‰æ‹©å™¨" UIã€‚è¿™æ˜¯V3.0"UIæŠ¤åŸæ²³"çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œé€šè¿‡**å¼ºåˆ¶ç”¨æˆ·é€‰æ‹©åˆ†ææ¨¡å¼**ï¼Œç¡®ä¿ç§‘æŠ€åˆ›ä½œè€…ä¸ä¼šé”™è¿‡V3.0çš„P0çº§ä»·å€¼ï¼ˆ99%+å‡†ç¡®ç‡ï¼‰ã€‚å®ç°éœ€éµå¾ª**æµ‹è¯•å…ˆè¡Œ**åŸåˆ™ï¼Œå…ˆç¼–å†™å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå†å®ç°åŠŸèƒ½ä»£ç ã€‚

---

## ğŸ“‹ ä¸Šä¸‹æ–‡å‚è€ƒ (Context References)

### ä¸»è¦æ“ä½œæ–‡ä»¶
- æ ¸å¿ƒæ–‡ä»¶: `@apps/web/src/components/sections/InputSection.tsx` (éœ€ä¿®æ”¹)
- æµ‹è¯•æ–‡ä»¶: `@apps/web/src/components/sections/__tests__/InputSection.test.tsx` (å¾…åˆ›å»º)
- çŠ¶æ€ç®¡ç†: `@apps/web/src/stores/app-store.ts` (éœ€ä¿®æ”¹)
- ç±»å‹å®šä¹‰: `@apps/web/src/types/script-parser.types.ts` (éœ€ä¿®æ”¹)
- ä¸»é¡µé¢: `@apps/web/src/app/page.tsx` (éœ€ä¿®æ”¹)
- UIç»„ä»¶: `@apps/web/src/components/ui/select.tsx` (å·²å­˜åœ¨ï¼Œæ¥è‡ªshadcn/ui)

### éœ€è¦éµå¾ªçš„å†…éƒ¨è§„åˆ™
- `@.cursor/rules/001-gen-constitution-principles.mdc` (æ ¸å¿ƒé“å¾‹)
- `@.cursor/rules/005-spec-definition-of-done.mdc` (å®Œæˆæ ‡å‡†)
- `@.cursor/rules/010-gen-coding-standards.mdc` (ç¼–ç æ ‡å‡†)
- `@.cursor/rules/020-gen-typescript-best-practices.mdc` (TSæœ€ä½³å®è·µ)
- `@.cursor/rules/040-spec-visual-design-principles.mdc` (è§†è§‰è®¾è®¡åŸåˆ™)
- `@.cursor/rules/130-spec-testing-guide.mdc` (æµ‹è¯•æŒ‡å—)
- `@.cursor/rules/140-spec-frontend-state-management.mdc` (çŠ¶æ€ç®¡ç†è§„èŒƒ)

### è®¾è®¡/è§„èŒƒå‚è€ƒ
- **æˆ˜ç•¥æ–‡æ¡£**: `@docs/development/éœ€æ±‚åˆ†æ - è„šæœ¬å¿«æ‹† V2.0 (V3.0 MVPç‰ˆ).md`
- **æŠ€æœ¯æ–¹æ¡ˆ**: `@docs/development/æŠ€æœ¯æ–¹æ¡ˆ - è„šæœ¬å¿«æ‹†-V2.0 (V3.0 MVPç‰ˆ).md`
- **åŸå‹è®¾è®¡**: `@docs/development/åŸå‹è®¾è®¡ -  è„šæœ¬å¿«æ‹† MVP V2.0.md`

---

## ğŸ”§ å…·ä½“è¦æ±‚ä¸çº¦æŸ (Requirements & Constraints)

### æŠ€æœ¯æ ˆçº¦æŸ
- **è¯­è¨€**: TypeScript (strict mode)
- **æ¡†æ¶**: Next.js 15 (App Router), React 19
- **UIåº“**: shadcn/ui (åŸºäº Radix UI)
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æµ‹è¯•æ¡†æ¶**: Jest + React Testing Library
- **æ ·å¼**: Tailwind CSS v4

### åŠŸèƒ½è¦æ±‚

#### 1. çŠ¶æ€ç®¡ç†æ‰©å±• (Zustand Store)
åœ¨ `app-store.ts` ä¸­æ–°å¢ï¼š
- **State**: `analysisMode: string` (åˆå§‹å€¼: `""`)
- **Action**: `setAnalysisMode: (mode: string) => void`
- **Action**: `resetPartial: () => void` (é‡ç½®é™¤ `analysisMode` å¤–çš„æ‰€æœ‰çŠ¶æ€)

#### 2. ç±»å‹å®šä¹‰æ‰©å±•
åœ¨ `script-parser.types.ts` ä¸­æ–°å¢ï¼š
- **Type**: `AnalysisMode = "general" | "tech" | ""`
- **Propsæ¥å£**: `InputSectionProps` éœ€æ–°å¢ `analysisMode` å’Œ `onAnalysisModeChange`

#### 3. UI ç»„ä»¶å®ç° (InputSection)
åœ¨ `InputSection.tsx` ä¸­ï¼š
- åœ¨ `<Input>` å’Œ `<Button>` ä¹‹é—´æ–°å¢ `<Select>` ç»„ä»¶
- **é€‰é¡¹é…ç½®**:
  1. é»˜è®¤é€‰é¡¹: `-- è¯·é€‰æ‹©ä¸€ä¸ªåˆ†ææ¨¡å¼ --` (value: `""`, disabled)
  2. é€‰é¡¹1: `é€šç”¨å™äº‹åˆ†æ (V2.0)` (value: `"general"`)
  3. é€‰é¡¹2: `ç§‘æŠ€äº§å“è¯„æµ‹ (V3.0)` (value: `"tech"`)
- **æ ·å¼è¦æ±‚**: éµå¾ª Rondo è®¾è®¡ç³»ç»Ÿï¼Œä½¿ç”¨ shadcn/ui é»˜è®¤æ ·å¼
- **Label**: å¯é€‰æ·»åŠ  `åˆ†ææ¨¡å¼` æ ‡ç­¾

#### 4. æŒ‰é’®é€»è¾‘æ›´æ–°
"å¼€å§‹åˆ†æ"æŒ‰é’®çš„ `disabled` é€»è¾‘ï¼š
- **V1.0é€»è¾‘**: `disabled={!isValid}`
- **V3.0é€»è¾‘**: `disabled={!isValid || analysisMode === ""}`

#### 5. æ™ºèƒ½é‡ç½®åŠŸèƒ½
åœ¨ `page.tsx` ä¸­ï¼š
- "å†åˆ†æä¸€ä¸ª"æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œè°ƒç”¨ `resetPartial()` è€Œé `reset()`
- **ä¿ç•™çŠ¶æ€**: `analysisMode` (ç”¨æˆ·ä¸Šæ¬¡çš„é€‰æ‹©)
- **é‡ç½®çŠ¶æ€**: `appState`, `requestData`, `resultData`, `error`

### ç±»å‹å®‰å…¨è¦æ±‚ (ğŸ›¡ï¸ Type Safety)
- **ç¦æ­¢ä½¿ç”¨ `any` ç±»å‹**
- æ‰€æœ‰æ–°å¢çš„ stateã€propsã€å‡½æ•°å‚æ•°å¿…é¡»æœ‰æ˜ç¡®çš„ç±»å‹å®šä¹‰
- ä½¿ç”¨ TypeScript çš„ string literal union types å®šä¹‰ `AnalysisMode`

---

## ğŸ“˜ ç¤ºä¾‹ä¸è¾“å‡ºç»“æ„ (Example & Output Structure)

### ç”¨æ³•ç¤ºä¾‹ (å°†è¢«è½¬åŒ–ä¸ºæµ‹è¯•ç”¨ä¾‹)

> [!example] **Select ç»„ä»¶çš„æœ€ç»ˆç”¨æ³•**
> *AIï¼Œä½ å°†è¦å®ç°çš„ Select ç»„ä»¶ï¼Œæœ€ç»ˆä¼šè¢«è¿™æ ·è°ƒç”¨å’Œä½¿ç”¨ã€‚*
> ```tsx
> import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
> 
> <Select value={analysisMode} onValueChange={setAnalysisMode}>
>   <SelectTrigger className="w-full h-14 md:h-16 rounded-xl">
>     <SelectValue placeholder="-- è¯·é€‰æ‹©ä¸€ä¸ªåˆ†ææ¨¡å¼ --" />
>   </SelectTrigger>
>   <SelectContent>
>     <SelectItem value="general">é€šç”¨å™äº‹åˆ†æ (V2.0)</SelectItem>
>     <SelectItem value="tech">ç§‘æŠ€äº§å“è¯„æµ‹ (V3.0)</SelectItem>
>   </SelectContent>
> </Select>
> ```

### Zustand Store ç»“æ„ç¤ºä¾‹

```typescript
// @apps/web/src/stores/app-store.ts
export interface AppStore {
  // Existing State
  appState: AppState;
  requestData: VideoParseRequest | null;
  resultData: AnalysisResult | null;
  error: string | null;
  
  // ã€V3.0 æ–°å¢ã€‘
  analysisMode: AnalysisMode;

  // Existing Actions
  startProcessing: (data: VideoParseRequest) => void;
  setSuccess: (result: AnalysisResult) => void;
  setError: (errorMsg: string) => void;
  reset: () => void;
  
  // ã€V3.0 æ–°å¢ã€‘
  setAnalysisMode: (mode: AnalysisMode) => void;
  resetPartial: () => void; // é‡ç½®é™¤ analysisMode å¤–çš„çŠ¶æ€
}
```

### Types æ‰©å±•ç¤ºä¾‹

```typescript
// @apps/web/src/types/script-parser.types.ts

// ã€V3.0 æ–°å¢ã€‘
export type AnalysisMode = "general" | "tech" | ""

// ã€V3.0 æ›´æ–°ã€‘InputSectionProps
export type InputSectionProps = {
  readonly currentState: AppState
  readonly inputValue: string
  readonly selectedFile: File | null
  readonly analysisMode: AnalysisMode // æ–°å¢
  readonly onInputChange: (value: string) => void
  readonly onFileSelect: (file: File | null) => void
  readonly onAnalysisModeChange: (mode: AnalysisMode) => void // æ–°å¢
  readonly onSubmit: () => void
  readonly error?: string
}
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥ (Testing Strategy) - ã€ç¬¬ä¸€æ­¥æ‰§è¡Œã€‘

### AIè§’è‰²ï¼šè½¯ä»¶è´¨é‡ä¿è¯å·¥ç¨‹å¸ˆ (AI Role: Software QA Engineer)
ä½ å°†æ‰®æ¼”ä¸€ä¸ªä¸“ä¸šçš„ã€éµå¾ª"æ™ºèƒ½ä½“æµ‹è¯•"ç†å¿µçš„è½¯ä»¶è´¨é‡ä¿è¯å·¥ç¨‹å¸ˆã€‚ä½ çš„æ ¸å¿ƒä»»åŠ¡æ˜¯ä¸ºå³å°†å¼€å‘çš„åŠŸèƒ½ç”Ÿæˆä¸€å¥—å…¨é¢ã€ä¸¥è°¨çš„æµ‹è¯•ç”¨ä¾‹ã€‚

### æ ¸å¿ƒåŸåˆ™
- **æµ‹è¯•ä¼˜å…ˆçº§**: æœ¬ä»»åŠ¡ä¸ºå‰ç«¯UIåŠŸèƒ½ï¼Œä½†ä»éœ€éµå¾ª"æµ‹è¯•å…ˆè¡Œ"åŸåˆ™
- **æµ‹è¯•ç±»å‹**: ä¸»è¦ä¸º**ç»„ä»¶æµ‹è¯• (Component Tests)**

### 5.1 ç»„ä»¶æµ‹è¯• (Component Tests)

#### ç›®æ ‡: éªŒè¯ InputSection ç»„ä»¶çš„æ¸²æŸ“ã€äº¤äº’å’ŒçŠ¶æ€ç®¡ç†

#### AIæ‰§è¡Œè¦æ±‚:

**ç¬¬1æ­¥: åˆ›å»ºæµ‹è¯•æ–‡ä»¶**
- [ ] åˆ›å»ºæµ‹è¯•æ–‡ä»¶ `@apps/web/src/components/sections/__tests__/InputSection.test.tsx`

**ç¬¬2æ­¥: Mock å¤–éƒ¨ä¾èµ–**
- [ ] Mock `@/hooks/use-toast` 
- [ ] Mock `@/components/ui/select` (å¦‚æœéœ€è¦)

**ç¬¬3æ­¥: ç¼–å†™å¤±è´¥çš„ç»„ä»¶æµ‹è¯•**

åˆ›å»ºä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹ï¼ˆæµ‹è¯•åº”å½“å¤±è´¥ï¼Œå› ä¸ºåŠŸèƒ½å°šæœªå®ç°ï¼‰:

**æµ‹è¯•å¥—ä»¶ 1: Select ç»„ä»¶æ¸²æŸ“æµ‹è¯•**
- [ ] **Test 1.1**: éªŒè¯ Select ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®æ¸²æŸ“
  - æ–­è¨€ï¼šé¡µé¢ä¸­å­˜åœ¨åŒ…å« "è¯·é€‰æ‹©ä¸€ä¸ªåˆ†ææ¨¡å¼" çš„ SelectTrigger
  
- [ ] **Test 1.2**: éªŒè¯ Select åŒ…å«æ­£ç¡®çš„é€‰é¡¹
  - æ–­è¨€ï¼šç‚¹å‡» Select åï¼Œèƒ½çœ‹åˆ° "é€šç”¨å™äº‹åˆ†æ (V2.0)" å’Œ "ç§‘æŠ€äº§å“è¯„æµ‹ (V3.0)" ä¸¤ä¸ªé€‰é¡¹

**æµ‹è¯•å¥—ä»¶ 2: æŒ‰é’®ç¦ç”¨é€»è¾‘æµ‹è¯•**
- [ ] **Test 2.1**: éªŒè¯åˆå§‹çŠ¶æ€æŒ‰é’®è¢«ç¦ç”¨
  - Given: URL æœ‰æ•ˆï¼Œä½† analysisMode ä¸ºç©ºå­—ç¬¦ä¸²
  - Then: "å¼€å§‹åˆ†æ" æŒ‰é’®åº”è¯¥è¢«ç¦ç”¨
  
- [ ] **Test 2.2**: éªŒè¯é€‰æ‹©æ¨¡å¼åæŒ‰é’®å¯ç”¨
  - Given: URL æœ‰æ•ˆï¼Œä¸” analysisMode ä¸º "tech"
  - Then: "å¼€å§‹åˆ†æ" æŒ‰é’®åº”è¯¥è¢«å¯ç”¨

- [ ] **Test 2.3**: éªŒè¯ URL æ— æ•ˆæ—¶æŒ‰é’®ä¿æŒç¦ç”¨
  - Given: URL æ— æ•ˆï¼ŒanalysisMode ä¸º "tech"
  - Then: "å¼€å§‹åˆ†æ" æŒ‰é’®åº”è¯¥è¢«ç¦ç”¨

**æµ‹è¯•å¥—ä»¶ 3: Select äº¤äº’æµ‹è¯•**
- [ ] **Test 3.1**: éªŒè¯é€‰æ‹©æ¨¡å¼ä¼šè§¦å‘å›è°ƒ
  - When: ç”¨æˆ·é€‰æ‹© "ç§‘æŠ€äº§å“è¯„æµ‹ (V3.0)"
  - Then: åº”è°ƒç”¨ `onAnalysisModeChange("tech")`

- [ ] **Test 3.2**: éªŒè¯ Select å€¼ç»‘å®š
  - Given: analysisMode prop ä¸º "general"
  - Then: Select åº”æ˜¾ç¤º "é€šç”¨å™äº‹åˆ†æ (V2.0)"

**ç¬¬4æ­¥: è¿è¡Œæµ‹è¯•ï¼Œç¡®è®¤å¤±è´¥**
- [ ] æ‰§è¡Œ `pnpm test InputSection.test.tsx`
- [ ] ç¡®è®¤æ‰€æœ‰æµ‹è¯•å› åŠŸèƒ½æœªå®ç°è€Œå¤±è´¥

---

## ğŸ”„ å®ç°æ­¥éª¤ (Implementation Steps) - ã€ç¬¬äºŒæ­¥æ‰§è¡Œã€‘

### AIæ‰§è¡Œè¦æ±‚ (å¼ºåˆ¶æ€§)

**æ­¥éª¤1: ç±»å‹å®šä¹‰æ‰©å±•**
- [ ] æ‰“å¼€ `@apps/web/src/types/script-parser.types.ts`
- [ ] æ·»åŠ  `AnalysisMode` ç±»å‹å®šä¹‰
- [ ] æ›´æ–° `InputSectionProps` æ¥å£ï¼Œæ·»åŠ  `analysisMode` å’Œ `onAnalysisModeChange`

**æ­¥éª¤2: Zustand Store æ‰©å±•**
- [ ] æ‰“å¼€ `@apps/web/src/stores/app-store.ts`
- [ ] åœ¨ `AppStore` æ¥å£ä¸­æ·»åŠ  `analysisMode: AnalysisMode`
- [ ] åœ¨åˆå§‹çŠ¶æ€ä¸­æ·»åŠ  `analysisMode: ""`
- [ ] å®ç° `setAnalysisMode` action
- [ ] å®ç° `resetPartial` action (é‡ç½®é™¤ `analysisMode` å¤–çš„æ‰€æœ‰çŠ¶æ€)

**æ­¥éª¤3: InputSection ç»„ä»¶å®ç°**
- [ ] æ‰“å¼€ `@apps/web/src/components/sections/InputSection.tsx`
- [ ] å¯¼å…¥ Select ç›¸å…³ç»„ä»¶
- [ ] åœ¨ props ä¸­æ¥æ”¶ `analysisMode` å’Œ `onAnalysisModeChange`
- [ ] åœ¨ UI ä¸­æ·»åŠ  Select ç»„ä»¶ï¼ˆä½ç½®ï¼šInput å’Œ Button ä¹‹é—´ï¼‰
- [ ] å®ç°ä¸‰ä¸ªé€‰é¡¹ï¼ˆé»˜è®¤ã€é€šç”¨ã€ç§‘æŠ€ï¼‰
- [ ] ç»‘å®š `value` åˆ° `analysisMode`
- [ ] ç»‘å®š `onValueChange` åˆ° `onAnalysisModeChange`
- [ ] æ›´æ–°æŒ‰é’® `disabled` é€»è¾‘: `disabled={isSubmitDisabled || analysisMode === ""}`

**æ­¥éª¤4: ä¸»é¡µé¢é›†æˆ**
- [ ] æ‰“å¼€ `@apps/web/src/app/page.tsx`
- [ ] ä» store ä¸­è·å– `analysisMode` å’Œ `setAnalysisMode`
- [ ] å°† `analysisMode` å’Œ `onAnalysisModeChange={setAnalysisMode}` ä¼ é€’ç»™ InputSection
- [ ] å°† `onReset` é€»è¾‘ä» `reset()` æ›´æ–°ä¸º `resetPartial()`

**æ­¥éª¤5: æ ·å¼ä¼˜åŒ–**
- [ ] ä¸º Select ç»„ä»¶æ·»åŠ åˆé€‚çš„ Tailwind æ ·å¼ç±»
- [ ] ç¡®ä¿ Select é«˜åº¦ä¸å…¶ä»–è¾“å…¥å…ƒç´ ä¸€è‡´ (h-14 md:h-16)
- [ ] ç¡®ä¿åœ†è§’ä¸è®¾è®¡ç³»ç»Ÿä¸€è‡´ (rounded-xl)
- [ ] éªŒè¯å“åº”å¼è®¾è®¡åœ¨ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯çš„è¡¨ç°

**æ­¥éª¤6: åå¤è¿è¡Œæµ‹è¯•**
- [ ] æ‰§è¡Œ `pnpm test InputSection.test.tsx`
- [ ] ç¡®ä¿æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ 100% é€šè¿‡
- [ ] å¦‚æœ‰å¤±è´¥ï¼Œè°ƒæ•´å®ç°ä»£ç ç›´åˆ°æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ‰ å®Œæˆæ£€æŸ¥æ¸…å• (Completion Checklist)

### â… . åŠŸèƒ½ä¸è´¨é‡æ£€æŸ¥ (AIå¿…é¡»æ‰§è¡Œ)

- [ ] æ˜¯å¦ä¸¥æ ¼éµå¾ªäº†"æµ‹è¯•å…ˆè¡Œ"çš„æµç¨‹ï¼Ÿ
- [ ] **ç»„ä»¶æµ‹è¯•æ˜¯å¦å·²ç¼–å†™å®Œæˆå¹¶100%é€šè¿‡ï¼Ÿ**
- [ ] Select ç»„ä»¶æ˜¯å¦æŒ‰ shadcn/ui é£æ ¼å’ŒåŸå‹è®¾è®¡è§„èŒƒå®ç°ï¼Ÿ
- [ ] "å¼€å§‹åˆ†æ"æŒ‰é’®çš„ disabled é€»è¾‘æ˜¯å¦æ­£ç¡®æ›´æ–°ï¼Ÿ(URLæœ‰æ•ˆ ä¸” modeå·²é€‰)
- [ ] Zustand store æ˜¯å¦å·²æ–°å¢ `analysisMode` çŠ¶æ€å’Œç›¸å…³ actionsï¼Ÿ
- [ ] `resetPartial()` æ˜¯å¦æ­£ç¡®å®ç°äº†"ä¿ç•™ analysisMode"çš„é€»è¾‘ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªäº†é”™è¯¯å¤„ç†è§„èŒƒï¼Ÿ(è™½ç„¶æœ¬åŠŸèƒ½ä¸»è¦æ˜¯UIäº¤äº’)
- [ ] æ‰€æœ‰æ–°å¢çš„ propsã€stateã€types æ˜¯å¦éƒ½æœ‰æ˜ç¡®çš„ç±»å‹å®šä¹‰ï¼Ÿ
- [ ] æ˜¯å¦ä¸ºæ‰€æœ‰æ–°å¢çš„å…¬å…±æ¥å£ç¼–å†™äº†æ–‡æ¡£å­—ç¬¦ä¸²(TSDoc)ï¼Ÿ

### â…¡. æ„å»ºä¸éªŒè¯æ£€æŸ¥ (AIå¿…é¡»æ‰§è¡Œ)

- [ ] **Lintæ£€æŸ¥æ˜¯å¦é€šè¿‡ (`pnpm run lint`)ï¼Ÿ**
- [ ] **TypeScriptç±»å‹æ£€æŸ¥æ˜¯å¦é€šè¿‡ (`pnpm --filter web exec tsc --noEmit`)ï¼Ÿ**
- [ ] **ç”Ÿäº§æ„å»ºæ˜¯å¦æˆåŠŸ (`pnpm --filter web build`)ï¼Ÿ**
- [ ] åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨éªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Ÿ
  - [ ] Select ç»„ä»¶æ˜¯å¦æ­£ç¡®æ¸²æŸ“ï¼Ÿ
  - [ ] é€‰æ‹©ä¸åŒæ¨¡å¼æ—¶ï¼ŒæŒ‰é’®çŠ¶æ€æ˜¯å¦æ­£ç¡®å˜åŒ–ï¼Ÿ
  - [ ] "å†åˆ†æä¸€ä¸ª"åï¼Œä¸Šæ¬¡é€‰æ‹©çš„æ¨¡å¼æ˜¯å¦è¢«ä¿ç•™ï¼Ÿ

### â…¢. è®¾è®¡ä¸è§„èŒƒæ£€æŸ¥

- [ ] Select ç»„ä»¶æ ·å¼æ˜¯å¦ç¬¦åˆ `@rules/040-spec-visual-design-principles.mdc`ï¼Ÿ
- [ ] é—´è·æ˜¯å¦ä¸º 4 çš„å€æ•°ï¼Ÿ(padding, margin, gap)
- [ ] æ˜¯å¦ä½¿ç”¨äº†æ­£ç¡®çš„é¢œè‰²ç³»ç»Ÿï¼Ÿ(Primary: #5E6AD2)
- [ ] Focus çŠ¶æ€æ˜¯å¦æœ‰æ˜æ˜¾çš„è§†è§‰åé¦ˆï¼Ÿ
- [ ] å“åº”å¼è®¾è®¡æ˜¯å¦åœ¨ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½æ­£å¸¸å·¥ä½œï¼Ÿ

### â…£. æµç¨‹ä¸äº¤ä»˜æ£€æŸ¥ (AIåœ¨æœ€åä¸€æ­¥æ‰§è¡Œ)

- [ ] **Git Commit Messageæ˜¯å¦å·²æŒ‰ `@rules/210-wf-git-commit.mdc` è§„èŒƒç”Ÿæˆï¼Ÿ**
  - ç¤ºä¾‹: `feat(web): implement analysis mode selector UI (TOM-489)`
- [ ] **æ˜¯å¦å·²å°†æœ¬ Prompt æ–‡æ¡£é“¾æ¥åˆ° Linear Issue TOM-489 çš„è¯„è®ºä¸­ï¼Ÿ**
- [ ] æ˜¯å¦å·²æ›´æ–°ç›¸å…³çš„æŠ€æœ¯æ–‡æ¡£ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ï¼Ÿ

---

## ğŸ“š ç›¸å…³çŸ¥è¯†åº“ (Relevant Knowledge)

### æˆ˜ç•¥/éœ€æ±‚ (Why)
- `[[éœ€æ±‚åˆ†æ - è„šæœ¬å¿«æ‹† V2.0 (V3.0 MVPç‰ˆ)]]` - U.S. 2.1, 2.2, 2.4
- `[[å¤‡å¿˜å½• - V3.0 äº§å“å½¢æ€æœ€ç»ˆå†³ç­–ä¼š]]`

### è®¾è®¡ (What)
- `[[åŸå‹è®¾è®¡ - è„šæœ¬å¿«æ‹† MVP V2.0 (V3.0 MVPç‰ˆ)]]` - Section 4.1

### æŠ€æœ¯ (How)
- `[[æŠ€æœ¯æ–¹æ¡ˆ - è„šæœ¬å¿«æ‹†-V2.0 (V3.0 MVPç‰ˆ)]]` - Section 3

### ä»£ç è§„èŒƒ (Guardrails)
- `@rules/001-gen-constitution-principles.mdc`
- `@rules/010-gen-coding-standards.mdc`
- `@rules/020-gen-typescript-best-practices.mdc`
- `@rules/040-spec-visual-design-principles.mdc`
- `@rules/140-spec-frontend-state-management.mdc`

---

## ğŸš¨ ç‰¹åˆ«æé†’ (Critical Reminders)

1. **æµ‹è¯•å…ˆè¡Œ**: å¿…é¡»å…ˆç¼–å†™æµ‹è¯•ï¼Œç¡®è®¤æµ‹è¯•å¤±è´¥åï¼Œå†ç¼–å†™å®ç°ä»£ç 
2. **ç±»å‹å®‰å…¨**: ä¸¥æ ¼ç¦æ­¢ä½¿ç”¨ `any` ç±»å‹
3. **çŠ¶æ€ç®¡ç†**: éµå¾ª Zustand çš„æœ€ä½³å®è·µï¼Œä½¿ç”¨ `set()` å‡½æ•°æ›´æ–°çŠ¶æ€
4. **UIä¸€è‡´æ€§**: Select ç»„ä»¶æ ·å¼å¿…é¡»ä¸ç°æœ‰çš„ Input å’Œ Button ä¿æŒä¸€è‡´
5. **ç”¨æˆ·ä½“éªŒ**: ç¡®ä¿"å¼ºåˆ¶é€‰æ‹©"é€»è¾‘ä¸ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°å›°æƒ‘ï¼Œé€šè¿‡ç¦ç”¨æŒ‰é’®å’Œæ¸…æ™°çš„ placeholder å¼•å¯¼ç”¨æˆ·

---

## ğŸ¯ éªŒæ”¶æ ‡å‡† (Acceptance Criteria)

æ­¤ä»»åŠ¡è¢«è®¤ä¸ºå®Œæˆï¼Œå½“ä¸”ä»…å½“ï¼š

1. âœ… Select ç»„ä»¶å·²æŒ‰è®¾è®¡è§„èŒƒå®ç°å¹¶é›†æˆåˆ° InputSection
2. âœ… æŒ‰é’®ç¦ç”¨é€»è¾‘å·²æ­£ç¡®æ›´æ–°ï¼ˆURLæœ‰æ•ˆ ä¸” æ¨¡å¼å·²é€‰ï¼‰
3. âœ… Zustand store å·²æ‰©å±•æ”¯æŒ `analysisMode` çŠ¶æ€
4. âœ… "æ™ºèƒ½é‡ç½®"åŠŸèƒ½å·²å®ç°ï¼ˆä¿ç•™ä¸Šæ¬¡é€‰æ‹©çš„æ¨¡å¼ï¼‰
5. âœ… æ‰€æœ‰ç»„ä»¶æµ‹è¯• 100% é€šè¿‡
6. âœ… ç±»å‹æ£€æŸ¥ã€Lint æ£€æŸ¥ã€æ„å»ºå…¨éƒ¨é€šè¿‡
7. âœ… åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨éªŒè¯åŠŸèƒ½æ­£å¸¸
8. âœ… ä»£ç å·²æäº¤ï¼ŒCommit Message ç¬¦åˆè§„èŒƒ
9. âœ… Linear Issue TOM-489 å·²æ›´æ–°å¹¶å…³é—­

